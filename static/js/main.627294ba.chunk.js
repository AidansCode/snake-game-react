(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),a=n(9),r=n.n(a),c=(n(15),n(2)),s=n(4),u=n(5),l=20,d=[7,4],f=130,h=1,j=2,b=3,v=4,O=n(8),p=n(10),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(O.a)(this,t),this.head=null,this.tail=null,e&&this.addToFront(e)}return Object(p.a)(t,[{key:"addToFront",value:function(t){var e=new k(t);e.next=this.head,this.head?this.head.prev=e:this.tail=e,this.head=e}},{key:"addToBack",value:function(t){var e=new k(t);this.head?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e}},{key:"dropFromBack",value:function(){this.tail&&(this.tail=this.tail.prev,this.tail&&(this.tail.next=null))}}]),t}(),k=function t(e){Object(O.a)(this,t),this.value=e,this.next=null,this.prev=null},x=m,g={doesSnakeBodyContainPosition:function(t,e){for(var n=t.head;n;){var i=n.value;if(i[0]===e[0]&&i[1]===e[1])return!0;n=n.next}return!1},isValidPosition:function(t,e){var n=l-1;return e>=0&&e<=n&&t>=0&&t<=n},getNextPosition:function(t,e){var n=Object(s.a)(t);return e===h?n[0]--:e===b?n[0]++:e===v?n[1]--:e===j&&n[1]++,n},copySnake:function(t){for(var e=new x,n=t.head;n;)e.addToBack(n.value),n=n.next;return e},moveSnake:function(t,e,n,i,o){t((function(t){var a=g.copySnake(t),r=g.getNextPosition(a.head.value,e),c=g.isValidPosition(r[0],r[1]),s=g.doesSnakeBodyContainPosition(a,r);return!c||s?(o(),a):(a.addToFront(r),g.isAppleAtPosition(r,n)?g.generateNewApple(a,i):a.dropFromBack(),a)}))},getDirectionFromKey:function(t){return{ArrowLeft:v,ArrowUp:h,ArrowRight:j,ArrowDown:b}[t]||null},areDirectionsOppositeFromEachOther:function(t,e){var n;return(n={},Object(u.a)(n,v,j),Object(u.a)(n,h,b),Object(u.a)(n,j,v),Object(u.a)(n,b,h),n)[t]===e},getRandomIntInRange:function(t,e){return Math.floor(Math.random()*(e-t)+t)},getRandomBoardPosition:function(){var t=l;return[g.getRandomIntInRange(0,t),g.getRandomIntInRange(0,t)]},getNewApplePosition:function(t){for(;;){var e=g.getRandomBoardPosition();if(!g.doesSnakeBodyContainPosition(t,e))return e}},isAppleAtPosition:function(t,e){return e&&e[0]===t[0]&&e[1]===t[1]},generateNewApple:function(t,e){e(g.getNewApplePosition(t))}},w=g,y=n(1);var A=function(t){var e=t.boardSize,n=t.snake,i=t.applePosition;function o(t,e){var o=[t,e],a="cell";return w.doesSnakeBodyContainPosition(n,o)?a+=" cell-snake":w.isAppleAtPosition(o,i)&&(a+=" cell-apple"),a}return Object(y.jsx)("table",{className:"game-board",children:Object(y.jsx)("tbody",{children:Object(s.a)(Array(e)).map((function(t,n){return Object(y.jsx)("tr",{className:"row",children:Object(s.a)(Array(e)).map((function(t,e){return Object(y.jsx)("td",{className:o(n,e)},n+"-"+e)}))},n)}))})})};var S=function(t){var e=t.isGameActive,n=t.startGame;return e?null:Object(y.jsx)("button",{style:{marginBottom:"2vh"},onClick:n,children:"Start Game! (Press Space)"})};var P=function(t){var e=t.text,n=t.color;return Object(y.jsx)("h3",{style:{color:n},children:e})};var B=function(){var t=Object(i.useState)(!1),e=Object(c.a)(t,2),n=e[0],o=e[1],a=Object(i.useState)(-1),r=Object(c.a)(a,2),s=r[0],u=r[1],h=Object(i.useState)(new x(d)),b=Object(c.a)(h,2),v=b[0],O=b[1],p=Object(i.useState)(j),m=Object(c.a)(p,2),k=m[0],g=m[1],B=Object(i.useState)(null),F=Object(c.a)(B,2),N=F[0],R=F[1],I=Object(i.useState)(null),E=Object(c.a)(I,2),C=E[0],D=E[1];Object(i.useEffect)((function(){window.addEventListener("keydown",(function(t){if(" "===t.key)G();else{var e=w.getDirectionFromKey(t.key);e&&g((function(t){return w.areDirectionsOppositeFromEachOther(t,e)?t:e}))}}))}),[]),function(t,e){var n=Object(i.useRef)();Object(i.useEffect)((function(){n.current=t}),[t]),Object(i.useEffect)((function(){if(null!==e){var t=setInterval((function(){n.current()}),e);return function(){return clearInterval(t)}}}),[e])}((function(){n&&w.moveSnake(O,k,N,R,T)}),f),Object(i.useEffect)((function(){u((function(t){return t+1}))}),[N]);var G=function(){D(null),u(0),O(new x(d)),g(j),R(w.getNewApplePosition(v)),o(!0)},T=function(){o(!1),D("You lost! Final score: "+s)};return Object(y.jsxs)("div",{style:{textAlign:"center",color:"white"},children:[s>=0?Object(y.jsxs)("h1",{children:["Score: ",s]}):null,Object(y.jsx)(P,{text:C,color:"red"}),n?null:Object(y.jsx)(S,{isGameActive:n,startGame:G}),Object(y.jsx)(A,{boardSize:l,snake:v,applePosition:N})]})};r.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(B,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.627294ba.chunk.js.map